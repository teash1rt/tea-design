var Tt=Object.defineProperty;var St=(n,o,t)=>o in n?Tt(n,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[o]=t;var d=(n,o,t)=>(St(n,typeof o!="symbol"?o+"":o,t),t);import{d as L,h as k,g as A,o as m,c as y,k as x,n as S,t as $,e as F,F as O,D as R,a6 as Mt,j as B,a7 as K,x as nt,a4 as Pt,a as $t,N as q,r as H,b as ft,w as xt,l as Y,X as _t,M as Dt,a8 as Et,s as Q,a9 as It,aa as Lt,ab as Nt,ac as Ft,ad as At,ae as Ot,af as Rt,ag as zt,ah as Wt,ai as Jt,V as Yt,u as jt,y as Gt,aj as Vt,ak as qt,al as Ht,am as Bt}from"./chunks/framework.93c81841.js";import{c as yt,d as vt,a as z,e as I,i as it,u as Xt,b as Ut,m as X,f as Kt,C as j,t as D,g as Qt}from"./chunks/graph.af0b31dc.js";import{t as E}from"./chunks/errors.2cebd531.js";import{t as Zt}from"./chunks/theme.234c0488.js";const te=n=>{const o=n.getFullYear(),t=n.getMonth(),e=n.getDate();return{year:o,month:t,day:e}},ee=n=>{const{year:o,month:t,day:e}=te(new Date);return n.getDate()===e&&n.getMonth()===t&&n.getFullYear()===o},se=(n,o,t)=>n.getMonth()===o&&n.getFullYear()===t,ne=(n,o)=>o!=="mini"?[null,"January","February","March","April","May","June","July","August","September","October","November","December"][n]:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n],G=(n,o,t,e)=>t==="zh"?`${n}年${o}月`:`${ne(o,e)} ${n}`,ie=(n,o)=>{const t=n==="en"?["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]:["日","一","二","三","四","五","六"];return o&&t.push(t.shift()),t},oe={mondayFirst:{type:Boolean,default:!1,validator(n){return yt(n)}},lang:{type:String,default:()=>"zh",validator(n){return["zh","en"].includes(n)}},size:{type:String,default:()=>"medium",validator(n){return["large","medium","small","mini"].includes(n)}},theme:{type:String,default:()=>"tea",validator(n){return["tea","info","wine"].includes(n)}},headerMode:{type:String,default:()=>"today-between",validator(n){return["today-between","month-center","year-month-center","simple-center"].includes(n)}}},ae={class:"t-calendar"},le={key:0},re={key:1},he={key:2},ce={class:"header-today-group"},de={key:3},ue={class:"t-calendar-body"},pe={class:"t-calendar-week"},ot=L({name:"t-calendar",__name:"calendar",props:oe,setup(n){const o=n,t=new Date,e=k(t.getMonth()),s=k(t.getFullYear()),i=A(()=>ie(o.lang,o.mondayFirst)),a=k(null),r=A(()=>{let h=new Date(s.value,e.value,1),u=h.getDay()===0?7:h.getDay(),g=new Date(h.getTime()-(o.mondayFirst?u-1:u)*864e5),b=[];for(let N=0;N<42;N++)b.push(new Date(g.getTime()+N*864e5));return b}),l=(h,u)=>{a.value=null,setTimeout(()=>{a.value=h+u===1?"top":"down"},0),h===-1&&e.value===0?(s.value-=1,e.value=11):h===1&&e.value===11?(s.value+=1,e.value=0):(e.value+=h,s.value+=u)},c=()=>{e.value=t.getMonth(),s.value=t.getFullYear()},f=(h,u,g)=>ee(h)?`is-today--${o.theme}`:se(h,u,g)?`cur-month--${o.theme}`:`not-cur-month--${o.theme}`;return(h,u)=>(m(),y("div",ae,[x("div",{class:S(["t-calendar-header",`header--${h.headerMode}`])},[h.headerMode==="month-center"?(m(),y("div",le,[x("span",{class:"header-prev",onClick:u[0]||(u[0]=g=>l(-1,0))},"<"),x("span",{class:S(`header-date--${h.size}`)},$(G(s.value,e.value+1,h.lang,h.size)),3),x("span",{class:"header-next",onClick:u[1]||(u[1]=g=>l(1,0))},">")])):h.headerMode==="year-month-center"?(m(),y("div",re,[x("span",{class:"header-prev",onClick:u[2]||(u[2]=g=>l(0,-1))},"<<"),x("span",{class:"header-prev",onClick:u[3]||(u[3]=g=>l(-1,0))},"<"),x("span",{class:S(`header-date--${h.size}`)},$(G(s.value,e.value+1,h.lang,h.size)),3),x("span",{class:"header-next",onClick:u[4]||(u[4]=g=>l(1,0))},">"),x("span",{class:"header-next",onClick:u[5]||(u[5]=g=>l(0,1))},">>")])):h.headerMode==="today-between"?(m(),y("div",he,[x("span",{class:S(`header-date--${h.size}`)},$(G(s.value,e.value+1,h.lang,h.size)),3),x("span",ce,[x("span",{class:"header-prev",onClick:u[6]||(u[6]=g=>l(-1,0))},"<"),x("span",{class:"header-today",onClick:c},$(h.lang==="zh"?"今日":"today"),1),x("span",{class:"header-next",onClick:u[7]||(u[7]=g=>l(1,0))},">")])])):h.headerMode==="simple-center"?(m(),y("div",de,[x("span",{class:S(`header-date--${h.size}`)},$(G(s.value,e.value+1,h.lang,h.size)),3)])):F("",!0)],2),x("div",ue,[x("div",pe,[(m(!0),y(O,null,R(i.value,g=>(m(),y("div",{key:g,class:S(`t-calendar-week-elm--${h.size}`)},$(g),3))),128))]),(m(),y(O,null,R(6,g=>x("div",{key:g,class:"t-calendar-day"},[(m(),y(O,null,R(7,b=>x("span",{key:g*10+b,class:S([`t-calendar-day-elm--${h.size}`,f(r.value[(g-1)*7+(b-1)],e.value,s.value),a.value])},$(r.value[(g-1)*7+(b-1)].getDate()),3)),64))])),64))])]))}}),ge={install:n=>{n.component(ot.name,ot)}},me=n=>{const o=String(n.getMonth()+1).padStart(2,"0"),t=String(n.getDate()).padStart(2,"0");return`${n.getFullYear()}-${o}-${t}`},fe=n=>/^\d{4}-\d{2}-\d{2}$/.test(n)&&new Date(n).toString()!=="Invalid Date",xe={theme:{type:String,default:()=>"tea",validator(n){return["tea","info","wine"].includes(n)}},col:{type:Number,default:40,validator(n){return(!vt(n)||n<0)&&E("calendar-heatmap -> col","列数应为正整数"),!0}},mapData:{type:Object,default:{},validator(n){const o=Object.entries(n);for(const[t,e]of o)z(t)&&I(e)&&fe(t)||E("calendar-heatmap -> mapData","确保数据类型为{ [key: string]: number }，且string应为'YYYY-MM-DD'的格式");return!0}},thresholds:{type:Array,default:[1,3,5,7],validator(n){return n.length===4&&n.every((o,t)=>I(o)&&(t===0||o>n[t-1]))||E("calendar-heatmap -> thresholds","应为长度为4且递增的数组"),!0}},title:{type:String,default:null,validator(n){return z(n)}},tipInfo:{type:String,default:null,validator(n){return z(n)}}},ye={hover:n=>it(n),pick:n=>it(n)},ve={message:{type:String,default:null,validator(n){return z(n)}},theme:{type:String,default:()=>"dark",validator(n){return["dark","light","grey"].includes(n)}}},Ce={ref:"t-tooltip"},be=x("br",null,null,-1),Z=L({name:"t-tooltip",__name:"tooltip",props:ve,setup(n){const o=n,t=k(null),e=k(null),s=Mt({triggerX:0,triggerY:0,triggerW:0,triggerOutSide:!1,messageW:0,messageH:0}),i=k(0),a=()=>{i.value=window.scrollY},r=k("beforeMount");B(()=>{window.addEventListener("scroll",a),a();const f=k(t.value.children[0]),{isOutside:h}=K(f);nt(h,u=>{s.triggerOutSide=u;const{elementPositionY:g,elementPositionX:b,elementWidth:N}=K(f);s.triggerX=b.value,s.triggerY=g.value,s.triggerW=N.value}),r.value=null,s.triggerOutSide=!0}),nt(e,f=>{const{elementWidth:h,elementHeight:u}=K(f);s.messageW=h.value,s.messageH=u.value});const l=A(()=>({left:s.triggerX+s.triggerW/2-s.messageW/2+"px",top:s.triggerY-s.messageH-i.value-9+"px"})),c=A(()=>({left:s.triggerX+s.triggerW/2-5+"px",top:s.triggerY-i.value-10+"px"}));return Pt(()=>{window.removeEventListener("scroll",a)}),(f,h)=>{var u;return m(),y("div",Ce,[!s.triggerOutSide&&((u=o.message)!=null&&u.length)?(m(),y("div",{key:0,class:S(r.value)},[x("div",{class:S(["message",`message--${o.theme}`]),style:q(l.value),ref_key:"message",ref:e},[(m(!0),y(O,null,R(o.message.split(new RegExp("(?<!\\\\)\\\\n")),(g,b)=>(m(),y("div",{key:b},[$t($(g)+" ",1),be]))),128))],6),x("div",{class:S(["arrow",`arrow--${o.theme}`]),style:q(c.value)},null,6)],2)):F("",!0),x("div",{class:"t-tooltip-trigger",ref_key:"trigger",ref:t},[H(f.$slots,"trigger")],512)],512)}}}),ke={class:"t-calendar-heatmap"},we={key:0,class:"t-calendar-heatmap-title"},Te={class:"t-calendar-heatmap-grid"},Se=["id","date","onMouseover","onClick"],Me=["id","date","onMouseover","onClick"],M=7,at=L({name:"t-calendar-heatmap",__name:"calendar-heatmap",props:xe,emits:ye,setup(n,{emit:o}){const t=n,e=new Date,s=e.getDay(),i=(c,f)=>{const h=7*c+f-7+s;return me(new Date(e.getTime()-h*864e5))},a=c=>{let f=t.theme;return c>t.thresholds[0]&&c<=t.thresholds[1]?f+"--level1":c>t.thresholds[1]&&c<=t.thresholds[2]?f+"--level2":c>t.thresholds[2]&&c<=t.thresholds[3]?f+"--level3":c>t.thresholds[3]?f+"--level4":null},r=(c,f)=>{const h={date:c,count:t.mapData[c]};o(f?"pick":"hover",h)},l=(c,f)=>t.mapData[i(t.col-c,M-f)]?a(t.mapData[i(t.col-c,M-f)]):null;return(c,f)=>(m(),y("div",ke,[t.title?(m(),y("div",we,$(t.title),1)):F("",!0),x("div",Te,[(m(!0),y(O,null,R(t.col,h=>(m(),y("div",{class:"col",key:h},[(m(),y(O,null,R(M,u=>x("div",{class:"row",key:h*1e3+u},[t.tipInfo?(m(),ft(Z,{key:0,clickTrigger:"",message:t.tipInfo,theme:Y(Xt)()?"grey":"dark"},{trigger:xt(()=>[h!=t.col||u<=Y(s)?(m(),y("div",{key:0,class:S(["t-calendar-heatmap-day",l(h,u)]),id:`(${t.col-h},${M-u})`,date:i(t.col-h,M-u),onMouseover:g=>r(i(t.col-h,M-u),0),onClick:g=>r(i(t.col-h,M-u),1)},null,42,Se)):F("",!0)]),_:2},1032,["message","theme"])):h!=t.col||u<=Y(s)?(m(),y("div",{key:1,class:S(["t-calendar-heatmap-day",l(h,u)]),id:`(${t.col-h},${M-u})`,date:i(t.col-h,M-u),onMouseover:g=>r(i(t.col-h,M-u),0),onClick:g=>r(i(t.col-h,M-u),1)},null,42,Me)):F("",!0)])),64))]))),128))])]))}}),Pe={install:n=>{n.component(at.name,at)}},$e={install:n=>{n.component(Z.name,Z)}},_e={animation:{type:String,default:()=>"none",validator(n){return["origin","edge","none"].includes(n)}},bottom:{type:Number,default:80,validator(n){return I(n)}},right:{type:Number,default:60,validator(n){return I(n)}},gap:{type:Number,default:45,validator(n){return I(n)}}},Ct=Symbol("FloatButtonContextKey"),De={class:"t-float-content"},Ee={class:"t-float-items"},lt=L({name:"t-float-button",__name:"float-button",props:_e,setup(n){const o=n,t=k(!1),e={floatVisible:t,animation:o.animation,gap:o.gap};_t(Ct,e);const s=()=>{t.value=!t.value},i=A(()=>({right:o.right+"px",bottom:o.bottom+"px"}));return(a,r)=>(m(),y("div",{class:"t-float-button",style:q(i.value)},[x("div",De,[x("div",{class:"t-float-home",onClick:s},[H(a.$slots,"default")]),x("div",Ee,[H(a.$slots,"menu")])])],4))}}),rt=L({name:"t-float-item",__name:"float-item",setup(n){const{floatVisible:o,animation:t,gap:e}=Dt(Ct),s=A(()=>t),i=A(()=>({marginBottom:e+"px"}));return(a,r)=>(m(),ft(Et,{name:s.value},{default:xt(()=>[Y(o)?(m(),y("div",{key:0,class:"t-float-item",style:q(i.value)},[H(a.$slots,"default")],4)):F("",!0)]),_:3},8,["name"]))}}),Ie={install:n=>{n.component(lt.name,lt)}},Le={install:n=>{n.component(rt.name,rt)}},Ne=n=>{const o=[...n];for(let t=o.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1)),s=o[e];o[e]=o[t],o[t]=s}return o},Fe={rollMethod:{type:String,default:()=>"byClick",validator(n){return["byClick","byCountDown"].includes(n)}},selectMethod:{type:String,default:()=>"normal",validator(n){return["normal","unique"].includes(n)}},data:{type:Array,default:[],validator(n){return Ut(n)}},duration:{type:Number,default:2.5,validator(n){return I(n)}},startText:{type:String,default:null,validator(n){return z(n)}},noDataText:{type:String,default:"暂无内容",validator(n){return z(n)}},withoutFooter:{type:Boolean,default:!1,validator(n){return yt(n)}}},Ae={class:"t-rollcall"},Oe={class:"t-rollcall-content"},Re={key:0,class:"entity"},ze={key:1,class:"no-data"},We={key:0,class:"t-rollcall-footer"},Je=x("div",{class:"divider"},null,-1),Ye={key:2,class:"loading"},ht=L({name:"t-rollcall",__name:"rollcall",props:Fe,setup(n,{expose:o}){const t=n,e=k(null),s=k(50),i=k(!1);async function a(J){return new Promise(U=>setTimeout(U,J))}let r=t.data,l=!0,c=null;async function f(){i.value=!0,l=!0,r=Ne(r),e.value=0;for(let J=0;l;J++)e.value=(e.value+1)%r.length,await a(s.value);c=r[e.value]}let h;const u=()=>{c=null,t.data.length&&(e.value!==null&&t.selectMethod==="unique"&&(r.length===1?r=t.data:r.splice(e.value,1)),t.rollMethod==="byCountDown"&&(clearTimeout(h),h=setTimeout(()=>{g()},t.duration*1e3)),f())},g=()=>{t.rollMethod==="byCountDown"&&clearTimeout(h),i.value=!1,l=!1};return o({start:()=>{u()},stop:()=>{g()},get:()=>c}),(J,U)=>(m(),y("div",Ae,[x("div",Oe,[t.data.length?(m(),y("div",Re,$(e.value!==null?Y(r)[e.value]:t.startText),1)):(m(),y("div",ze,$(t.noDataText),1))]),t.withoutFooter?F("",!0):(m(),y("div",We,[Je,i.value?t.rollMethod==="byClick"?(m(),y("button",{key:1,onClick:g},"停止")):t.rollMethod==="byCountDown"?(m(),y("div",Ye)):F("",!0):(m(),y("button",{key:0,onClick:u},"开始"))]))]))}}),je={install:n=>{n.component(ht.name,ht)}},Ge={context:{type:Object,default:()=>tt,validator(n){const o=JSON.parse(JSON.stringify(tt)),t=X(o,n),e=t.style.edgeCount;if((!vt(e)||e<3)&&E("radar-chart -> edgeCount","边数应为大于3的整数"),t.axis.axisMax.length!==e&&E("radar-chart -> axisMax","坐标最大值长度应与边数保持一致"),t.data.length>0)for(const s of t.data){s&&s.length!==e&&E("radar-chart -> data","数据长度应与边数保持一致");for(const i of s)I(i)||E("radar-chart -> data","数据应为number类型")}return!0}}},tt={style:{canvasSize:600,edgeCount:6,baseLineCount:2,mainColor:["#91cc75","#4aa7e3","#f1a731","#ee6666","#8055cd"],fillColor:["#00ff00","#00aeec","#ffff00","#ff0000","#800080"]},axis:{label:["label1","label2","label3","label4","label5","label6"],labelStyle:"22px Arial",labelColor:"#000000",axisMax:[100,100,100,100,100,100]},data:[[65,65,65,65,65,65]]},Ve={hover:n=>I(n)||Kt(n)},V=(n,o,t,e)=>{const s=(n*360/t-45)*Math.PI/180;return{x:o*Math.sin(s)+o*Math.cos(s)+e/2,y:o*Math.sin(s)-o*Math.cos(s)+e/2}},qe=(n,o,t,e,s)=>Math.sqrt((n-t)*(n-t)+(o-e)*(o-e))<=s,He=(n,o,t,e,s,i,a)=>{const r=Math.min(n,t),l=Math.max(n,t),c=Math.min(o,e),f=Math.max(o,e);if(s>=r&&s<=l&&i>=c&&i<=f){const h=t-n,u=e-o,g=s-n,b=i-o;if(Math.abs(h*b-u*g)/Math.sqrt(h*h+u*u)<=a)return!0}return!1},Be=(n,o,t)=>{let e=!1;for(let s=0,i=o.length-1;s<o.length;i=s++){const a=o[s].x,r=o[s].y,l=o[i].x,c=o[i].y,f=qe(a,r,n.x,n.y,10)||He(a,r,l,c,n.x,n.y,5),h=r>n.y!=c>n.y&&n.x<(l-a)*(n.y-r)/(c-r)+a;if(f)return!0;t&&h&&(e=!e)}return e},ct=n=>{if(n.startsWith("rgb(")&&n.endsWith(")")){const o=n.slice(4,-1).split(","),t=parseInt(o[0].trim(),10),e=parseInt(o[1].trim(),10),s=parseInt(o[2].trim(),10),i=t+(255-t)*.25,a=e+(255-e)*.25,r=s+(255-s)*.25;return`rgb(${i}, ${a}, ${r})`}else if(n.startsWith("rgba(")&&n.endsWith(")")){const o=n.slice(5,-1).split(","),t=parseInt(o[0].trim(),10),e=parseInt(o[1].trim(),10),s=parseInt(o[2].trim(),10),i=parseFloat(o[3].trim()),a=t+(255-t)*.25,r=e+(255-e)*.25,l=s+(255-s)*.25;return`rgba(${a}, ${r}, ${l}, ${i})`}else if(n.startsWith("#")&&(n.length===4||n.length===7)){const o=parseInt(n.substring(1),16),t=o>>16&255,e=o>>8&255,s=o&255,i=t+(255-t)*.25,a=e+(255-e)*.25,r=s+(255-s)*.25;return`#${(1<<24|i<<16|a<<8|r).toString(16).slice(1)}`}return n};class Xe extends j{constructor(t,e){super();d(this,"canvas");d(this,"ctx");d(this,"context");d(this,"mouse");d(this,"axis");d(this,"vertices");d(this,"baseLine");d(this,"text");d(this,"lastMousePosition");this.canvas=t,this.ctx=t.getContext("2d"),this.context=e,this.mouse={x:0,y:0},this.lastMousePosition={x:0,y:0},this.canvas.addEventListener("wheel",s=>{this.lastMousePosition={x:s.x,y:s.y}}),window.addEventListener("scroll",()=>{const s=this.canvas.getBoundingClientRect();this.mouse.x=this.lastMousePosition.x-s.left,this.mouse.y=this.lastMousePosition.y-s.top}),this.canvas.addEventListener("mousemove",s=>{const i=this.canvas.getBoundingClientRect();this.mouse.x=s.x-i.left,this.mouse.y=s.y-i.top}),this.axis=[],this.vertices=Array(this.context.data.length).fill([]).map(()=>[]),this.baseLine=Array(this.context.style.baseLineCount+2).fill([]).map(()=>[]),this.text=[]}init(){const t=this.context.style.edgeCount,e=.25*this.context.style.canvasSize;for(let s=0;s<t;s++){const{x:i,y:a}=V(s,e,this.context.style.edgeCount,this.context.style.canvasSize);this.axis.push({x:i,y:a})}for(let s=0;s<this.context.data.length;s++)for(let i=0;i<t;i++){const{x:a,y:r}=V(i,this.context.data[s][i]*e/this.context.axis.axisMax[i],this.context.style.edgeCount,this.context.style.canvasSize);this.vertices[s].push({x:a,y:r})}if(this.context.style.baseLineCount>0){const s=e/(this.context.style.baseLineCount+1);for(let i=1;i<=this.context.style.baseLineCount+1;i++)for(let a=0;a<t;a++){const{x:r,y:l}=V(a,i*s,this.context.style.edgeCount,this.context.style.canvasSize);this.baseLine[i].push({x:r,y:l})}}for(let s=0;s<t;s++){const{x:i,y:a}=V(s,.27*this.context.style.canvasSize,this.context.style.edgeCount,this.context.style.canvasSize);this.text.push({x:i,y:a})}}update(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const t=this.findInsideChart();this.canvas.style.cursor=t!==null?"pointer":"auto",this.canvas.dispatchEvent(new CustomEvent("hover",{detail:t})),this.renderBaseElement();for(let e=0;e<this.context.data.length;e++)e!==t&&this.renderChart(e,!1,this.context.data.length>1);t!==null&&this.renderChart(t,!0,this.context.data.length>1)}renderBaseElement(){const t=this.context.style.edgeCount;this.ctx.beginPath(),this.ctx.lineWidth=1,this.ctx.strokeStyle="#888888";for(const e of this.axis){this.ctx.moveTo(this.context.style.canvasSize/2,this.context.style.canvasSize/2);const{x:s,y:i}=e;this.ctx.lineTo(s,i)}if(this.ctx.stroke(),this.ctx.strokeStyle="#bbbbbb",this.context.style.baseLineCount>0)for(let e=1;e<=this.context.style.baseLineCount+1;e++){this.ctx.beginPath();for(const s of this.baseLine[e]){const{x:i,y:a}=s;this.ctx.lineTo(i,a)}this.ctx.closePath(),this.ctx.stroke()}this.ctx.font=this.context.axis.labelStyle,this.ctx.fillStyle=this.context.axis.labelColor,this.ctx.textAlign="center",this.ctx.textBaseline="middle";for(let e=0;e<t;e++){const{x:s,y:i}=this.text[e];if(e===0||t&&e===t/2)this.ctx.fillText(this.context.axis.label[e],s,e?i+10:i-10);else{const a=this.ctx.measureText(this.context.axis.label[e]).width;e<t/2?this.ctx.fillText(this.context.axis.label[e],s+a/2,i):this.ctx.fillText(this.context.axis.label[e],s-a/2,i)}}}findInsideChart(){for(let t=0;t<this.context.data.length;t++)if(Be(this.mouse,this.vertices[t],this.context.style.fillColor[t]!=="none"))return t;return null}renderChart(t,e,s){const i=this.context.style.mainColor,a=this.context.style.fillColor;this.ctx.beginPath(),this.ctx.lineWidth=e?5:3,this.ctx.lineWidth=e?5:3,this.ctx.strokeStyle=e?ct(i[t%i.length]):i[t%i.length];for(const r of this.vertices[t]){const{x:l,y:c}=r;this.ctx.lineTo(l,c)}this.ctx.closePath(),a[t]!=="none"&&(this.ctx.fillStyle=e?ct(D(a[t%a.length],e&&s?.45:.2)):D(a[t%a.length],e&&s?.45:.2),this.ctx.fill()),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.fillStyle=i[t%i.length];for(const r of this.vertices[t]){const{x:l,y:c}=r;this.ctx.moveTo(l,c),this.ctx.arc(l,c,e?6:5.5,0,2*Math.PI),this.ctx.fill()}this.ctx.closePath()}}const Ue={class:"t-radar-chart"},dt=L({name:"t-radar-chart",__name:"radar-chart",props:Ge,emits:Ve,setup(n,{emit:o}){const t=n,e=JSON.parse(JSON.stringify(tt)),s=X(e,t.context),i=k(null);let a=null;return B(()=>{i.value.width=s.style.canvasSize,i.value.height=s.style.canvasSize,new Xe(i.value,s),i.value.addEventListener("hover",r=>{const l=r.detail;l!==a&&(o("hover",l),a=l)})}),(r,l)=>(m(),y("div",Ue,[x("canvas",{ref_key:"radarRef",ref:i},null,512)]))}}),Ke={install:n=>{n.component(dt.name,dt)}};class ut extends j{constructor(t,e){super();d(this,"ctx");d(this,"context");d(this,"position");d(this,"arcColor");d(this,"fillColor");d(this,"fontColor");d(this,"content");d(this,"setContentTimestamp");d(this,"moveTimestamp");d(this,"moveStartPosition");d(this,"moveEndPosition");d(this,"moveArcDirection");d(this,"blinkTimestamp");d(this,"blinkArcColor");d(this,"blinkFillColor");d(this,"blinkFontColor");d(this,"fullAnimation");this.ctx=t,this.context=e,this.position=e.initialPosition,this.arcColor=e.arcColor,this.fillColor=e.fillColor,this.fontColor=e.fontColor,this.content=this.context.content,this.setContentTimestamp=null,this.moveTimestamp=null,this.moveStartPosition=null,this.moveEndPosition=null,this.moveArcDirection=null,this.blinkTimestamp=null,this.blinkArcColor=null,this.blinkFillColor=null,this.blinkFontColor=null,this.fullAnimation=e.withoutAnimation}init(){this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.fullAnimation||this.blink(this.arcColor,this.fillColor,this.fontColor)}update(){const t=new Date().getTime();if(this.ctx.font="24px Arial",this.ctx.beginPath(),this.moveTimestamp){const e=(t-this.moveTimestamp)/1500;if(e>1)this.moveTimestamp=null,this.moveStartPosition=null,this.moveArcDirection=null,this.shiftTo({x:this.moveEndPosition.x,y:this.moveEndPosition.y});else{let s=this.moveStartPosition.x+(this.moveEndPosition.x-this.moveStartPosition.x)*e,i=this.moveStartPosition.y+(this.moveEndPosition.y-this.moveStartPosition.y)*e;switch(this.moveArcDirection){case 0:i+=100*Math.sqrt(Math.sin(Math.PI*e)*.3);break;case 1:i-=100*Math.sqrt(Math.sin(Math.PI*e)*.3);break;case 2:s+=100*Math.sqrt(Math.sin(Math.PI*e)*.3);break;case 3:s-=100*Math.sqrt(Math.sin(Math.PI*e)*.3);break}this.shiftTo({x:s,y:i})}}if(this.blinkTimestamp){const e=(t-this.blinkTimestamp)/(this.fullAnimation?1200:800);if(e>=1)this.blinkTimestamp=null,this.blinkArcColor=null,this.blinkFillColor=null,this.blinkFontColor=null,this.fullAnimation=!0;else{const s=Math.sin(Math.PI*e/(this.fullAnimation?1:2));this.blinkArcColor=D(this.blinkArcColor,s),this.blinkFillColor=D(this.blinkFillColor,s),this.blinkFontColor=D(this.blinkFontColor,s)}}if(this.setContentTimestamp){const e=(t-this.setContentTimestamp)/2e3;if(e>=1)this.setContentTimestamp=null,this.blinkFontColor=null;else{const s=Math.sin(Math.PI*e/2);this.blinkFontColor=D(this.blinkFontColor,s)}}this.ctx.closePath(),this.drawPoint()}drawPoint(){this.ctx.lineWidth=3,this.ctx.strokeStyle=this.blinkArcColor===null?this.arcColor:this.blinkArcColor,this.ctx.fillStyle=this.blinkFillColor===null?this.fillColor:this.blinkFillColor,this.ctx.arc(this.position.x,this.position.y,this.context.radius,0,2*Math.PI),this.ctx.fill(),this.ctx.stroke(),this.ctx.fillStyle=this.blinkFontColor===null?this.fontColor:this.blinkFontColor,this.ctx.fillText(String(this.content),this.position.x,this.position.y)}shiftTo(t){this.position=t,this.context.positionUpdate(this.context.pid,this.position)}moveTo(t,e){return this.moveTimestamp=new Date().getTime(),this.moveStartPosition=this.position,this.moveEndPosition=t,e===2?this.moveArcDirection=-1:Math.abs(this.moveEndPosition.x-this.moveStartPosition.x)>=Math.abs(this.moveEndPosition.y-this.moveStartPosition.y)?this.moveArcDirection=e?0:1:this.moveArcDirection=e?2:3,new Promise(s=>{setTimeout(()=>{s()},1500)})}setColor(t,e,s,i){this.arcColor=t,this.fillColor=e,this.fontColor=s,i||(this.blink(t,e,s),this.fullAnimation=!1)}setContent(t,e){e||(this.setContentTimestamp=new Date().getTime(),this.blinkFontColor=this.fontColor),this.content=t}blink(t,e,s){return this.blinkTimestamp=new Date().getTime(),this.blinkArcColor=t,this.blinkFillColor=e,this.blinkFontColor=s,new Promise(i=>{setTimeout(()=>{i()},1200)})}}const st=(n,o)=>{const t=o.x-n.x,e=o.y-n.y;return{dx:t,dy:e,d:Math.sqrt(t*t+e*e)}},Qe=(n,o,t)=>st(n,o).d<=t,Ze=(n,o,t)=>{const{dx:e,dy:s,d:i}=st(n,o);return{d:i,start:{x:t*e/i+n.x,y:t*s/i+n.y},end:{x:o.x-t*e/i,y:o.y-t*s/i}}},pt=(n,o,t,e,s,i)=>{if(e)return o;const{dx:a,dy:r,d:l}=st(n,o);let c;return s?c=Math.max(1,t/l):i?c=t/l:c=l>.6*t&&l<1.2*t?1:t/l,{x:o.x-(1-c)*a*.01,y:o.y-(1-c)*r*.01}},P=(n,o)=>1e3*Math.min(n,o)+Math.max(n,o),T=(n,o,...t)=>{for(const e of t)if(!Number.isInteger(e)||e<0||e>=n||o.includes(e))return!1;return!0};class gt extends j{constructor(t,e){super();d(this,"ctx");d(this,"context");d(this,"edgeLength");d(this,"startPosition");d(this,"endPosition");d(this,"renderTimestamp");d(this,"connectTimestamp");d(this,"isRendering");d(this,"color");d(this,"renderColor");this.ctx=t,this.context=e,this.edgeLength=0,this.startPosition=e.startPosition,this.endPosition=e.endPosition,this.renderTimestamp=null,this.connectTimestamp=null,this.isRendering=!1,this.color=e.color,this.renderColor="#0ea0cd"}init(){this.context.withoutAnimation||(this.connectTimestamp=new Date().getTime())}update(){const t=new Date().getTime(),{d:e,start:s,end:i}=Ze(this.startPosition,this.endPosition,this.context.radius);if(this.edgeLength=e,this.ctx.beginPath(),this.ctx.moveTo(s.x,s.y),this.renderTimestamp){const a=(t-this.renderTimestamp)/2e3;if(a>=1)this.renderTimestamp=null;else{this.ctx.lineWidth=5;const r={x:s.x+(i.x-s.x)*a,y:s.y+(i.y-s.y)*a};this.ctx.strokeStyle=this.renderColor,this.ctx.lineTo(r.x,r.y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(r.x,r.y)}}if(this.connectTimestamp){const a=(t-this.connectTimestamp)/1500;if(a>=1)this.connectTimestamp=null;else{const r=Math.sin(Math.PI*a/2);this.color=D(this.color,r)}}this.ctx.lineWidth=this.isRendering?5:3,this.ctx.strokeStyle=this.isRendering?this.renderColor:this.color,this.ctx.lineTo(i.x,i.y),this.ctx.stroke()}setPosition(t,e){this.startPosition=t,this.endPosition=e}setColor(t,e){e||(this.connectTimestamp=new Date().getTime()),this.isRendering=!1,this.color=t}render(t,e,s){return this.setPosition(t,e),this.renderTimestamp=new Date().getTime(),this.renderColor=s,new Promise(i=>{setTimeout(()=>{i(),this.isRendering=!0},2e3)})}}class ts extends j{constructor(t,e){super();d(this,"ctx");d(this,"context");d(this,"fontColor");d(this,"initialTimestamp");d(this,"colorSnippets");this.ctx=t,this.context=e,this.fontColor=e.fontColor,this.initialTimestamp=null,this.colorSnippets=[]}init(){this.context.withoutAnimation||(this.initialTimestamp=new Date().getTime())}update(){this.ctx.font=this.context.fontStyle;const t=new Date().getTime();if(this.initialTimestamp){const s=(t-this.initialTimestamp)/1e3;if(s>1)this.initialTimestamp=null;else{const i=Math.sin(Math.PI*s/2);this.fontColor=D(this.fontColor,i)}}const e=Array(this.context.content.length).fill(this.fontColor);for(let s=0;s<this.colorSnippets.length;s++){if(!this.colorSnippets[s].withoutAnimation){const i=(t-this.colorSnippets[s].startTimestamp)/1e3;if(i>1)this.colorSnippets[s].withoutAnimation=!0;else{const a=Math.sin(Math.PI*i/2);this.colorSnippets[s].color=D(this.colorSnippets[s].color,a)}}for(let i=this.colorSnippets[s].startIndex;i<=this.colorSnippets[s].endIndex;i++)e[i]=this.colorSnippets[s].color}for(let s=0;s<this.context.content.length;s++){const i=s?this.ctx.measureText(this.context.content.substring(0,s)).width:0;this.ctx.fillStyle=e[s],this.ctx.fillText(this.context.content[s],this.context.position.x+i,this.context.position.y)}}setColor(t,e,s,i){const a=new Date().getTime();this.colorSnippets.push({color:t,startIndex:e,endIndex:s,startTimestamp:a,withoutAnimation:i})}}class es extends j{constructor(t,e){super();d(this,"canvas");d(this,"ctx");d(this,"graph");d(this,"context");d(this,"mouse");d(this,"mousedown");d(this,"points");d(this,"edges");d(this,"deletedPoints");d(this,"edgesMap");d(this,"textsMap");d(this,"draggingPoint");d(this,"dragOffset");d(this,"sysLock");d(this,"userLock");this.canvas=t,this.ctx=t.getContext("2d"),this.graph={},this.context=e,this.mouse={x:0,y:0},this.mousedown=!1,this.points=[],this.edges=[],this.deletedPoints=[],this.edgesMap={},this.textsMap={},this.draggingPoint=null,this.dragOffset={x:0,y:0},this.sysLock=!1,this.userLock=!1,this.canvas.addEventListener("mousemove",s=>{const i=this.canvas.getBoundingClientRect();this.mouse.x=s.x-i.left,this.mouse.y=s.y-i.top}),this.canvas.addEventListener("mousedown",()=>{this.mousedown=!0}),this.canvas.addEventListener("mouseup",()=>{this.mousedown=!1,this.draggingPoint=null})}init(){for(let t=0;t<this.context.point.pointCount;t++)this.graph[t]=[],this.points.push(new ut(this.ctx,{pid:t,initialPosition:this.context.point.initialPosition[t],radius:this.context.point.radius,content:this.context.point.content[t]===void 0?"":this.context.point.content[t],positionUpdate:this.updatePosition.bind(this),arcColor:this.context.point.arcColor,fillColor:this.context.point.fillColor,fontColor:this.context.point.fontColor,withoutAnimation:!0}));for(let t=0;t<this.context.edge.connectionStatus.length;t++){const e=P(this.context.edge.connectionStatus[t][0],this.context.edge.connectionStatus[t][1]);this.context.edge.connectionStatus[t][0]===this.context.edge.connectionStatus[t][1]||e in this.edgesMap||(this.graph[this.context.edge.connectionStatus[t][0]].push(this.context.edge.connectionStatus[t][1]),this.graph[this.context.edge.connectionStatus[t][1]].push(this.context.edge.connectionStatus[t][0]),this.edges.push(new gt(this.ctx,{eid:e,radius:this.context.point.radius,startPosition:this.points[this.context.edge.connectionStatus[t][0]].position,endPosition:this.points[this.context.edge.connectionStatus[t][1]].position,color:this.context.edge.color,withoutAnimation:!0})),this.edgesMap[e]=t)}}update(){if(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.draggingPoint===null){for(const[t,e]of this.points.entries())if(Qe(e.position,this.mouse,this.context.point.radius)&&this.mousedown){this.draggingPoint=t,this.dragOffset={x:this.points[t].position.x-this.mouse.x,y:this.points[t].position.y-this.mouse.y};break}}else if(!this.isLocked()){this.points[this.draggingPoint].shiftTo({x:this.mouse.x+this.dragOffset.x,y:this.mouse.y+this.dragOffset.y});const t=[this.draggingPoint],e=Array(this.context.point.pointCount).fill(!1);for(;t.length;){const s=t.shift();e[s]=!0;for(const i of this.graph[s]){const a=pt(this.points[s].position,this.points[i].position,this.context.edge.distance,i===this.draggingPoint,!1,this.graph[i].length<=2);this.points[i].shiftTo(a),e[i]||t.push(i)}}if(!this.context.point.withoutRepulsion)for(let s=0;s<this.points.length;s++)for(let i=0;i<this.points.length;i++){if(s===i)continue;const a=pt(this.points[s].position,this.points[i].position,100,!1,!0,!1);this.points[i].shiftTo(a)}}}isLocked(){return this.sysLock?!0:this.userLock}updatePosition(t,e){if(!this.deletedPoints.includes(t)){this.points[t].position=e;for(const s of this.graph[t]){const i=this.edgesMap[P(t,s)];this.edges[i].setPosition(this.points[s].position,this.points[t].position)}}}async moveTo(t,e){T(this.context.point.pointCount,this.deletedPoints,t)&&(this.sysLock=!0,await Promise.all([this.points[t].moveTo(e,2)]),this.sysLock=!1)}async swap(t,e){if(!T(this.context.point.pointCount,this.deletedPoints,t,e)||t===e)return;this.sysLock=!0;const s=this.points[t].position,i=this.points[e].position;await Promise.all([this.points[t].moveTo(i,1),this.points[e].moveTo(s,0)]),this.sysLock=!1}async shallowSwap(t,e){if(!T(this.context.point.pointCount,this.deletedPoints,t,e)||t===e)return;this.sysLock=!0;const s={},i=this.points[t].position,a=this.points[e].position,r=JSON.parse(JSON.stringify(this.graph));for(let l=0;l<this.graph[t].length;l++){const c=P(t,this.graph[t][l]),f=this.edgesMap[c];if(e!==this.graph[t][l]){const h=P(e,this.graph[t][l]);delete this.edgesMap[c],s[h]=f}}for(let l=0;l<this.graph[e].length;l++){const c=P(e,this.graph[e][l]),f=this.edgesMap[c];if(t!==this.graph[e][l]){const h=P(t,this.graph[e][l]);delete this.edgesMap[c],s[h]=f}}this.graph[t]=[],this.graph[e]=[];for(const l of Object.keys(this.graph))for(let c=0;c<this.graph[Number(l)].length;c++)(this.graph[Number(l)][c]===t||this.graph[Number(l)][c]===e)&&(this.graph[Number(l)].splice(c,1),c-=1);await Promise.all([this.points[t].moveTo(a,1),this.points[e].moveTo(i,0)]),this.graph=JSON.parse(JSON.stringify(r));for(let l=0;l<this.context.edge.connectionStatus.length;l++)for(let c=0;c<=1;c++)(this.context.edge.connectionStatus[l][c]===t||this.context.edge.connectionStatus[l][c]===e)&&(this.context.edge.connectionStatus[l][c]=t+e-this.context.edge.connectionStatus[l][c]);[this.graph[t],this.graph[e]]=[this.graph[e],this.graph[t]];for(const l of Object.keys(this.graph))for(let c=0;c<this.graph[Number(l)].length;c++)(this.graph[Number(l)][c]===t||this.graph[Number(l)][c]===e)&&(this.graph[Number(l)][c]=t+e-this.graph[Number(l)][c]);for(const l of Object.keys(s))this.edgesMap[Number(l)]=s[Number(l)];this.sysLock=!1}async renderEdge(t,e,s){const i=P(t,e);if(!T(this.context.point.pointCount,this.deletedPoints,t,e)||!(i in this.edgesMap))return;this.sysLock=!0;const a=this.edgesMap[i];await Promise.all([this.edges[a].render(this.points[t].position,this.points[e].position,s)]),this.sysLock=!1}addPoint(t,e,s,i,a,r){return this.context.point.pointCount+=1,this.graph[this.context.point.pointCount-1]=[],this.points.push(new ut(this.ctx,{pid:this.context.point.pointCount-1,initialPosition:e,radius:this.context.point.radius,content:t===void 0?this.context.point.pointCount-1:t,positionUpdate:this.updatePosition.bind(this),arcColor:s,fillColor:i,fontColor:a,withoutAnimation:r})),this.context.point.pointCount-1}delPoint(t){if(T(this.context.point.pointCount,this.deletedPoints,t)){for(let e=0;e<this.context.edge.connectionStatus.length;e++){const s=this.context.edge.connectionStatus[e][0],i=this.context.edge.connectionStatus[e][1];if(s===t||i===t){this.context.edge.connectionStatus.splice(e,1);const a=P(s,i);this.edges[this.edgesMap[a]].destroy(),delete this.edgesMap[a],e-=1}}this.deletedPoints.push(t),delete this.graph[t];for(const e of Object.keys(this.graph))for(let s=0;s<this.graph[Number(e)].length;s++)this.graph[Number(e)][s]===t&&(this.graph[Number(e)].splice(s,1),s-=1);this.points[t].destroy()}}addEdge(t,e,s,i){const a=P(t,e);!T(this.context.point.pointCount,this.deletedPoints,t,e)||a in this.edgesMap||(this.context.edge.connectionStatus.push([t,e]),this.edges.push(new gt(this.ctx,{eid:a,radius:this.context.point.radius,startPosition:this.points[t].position,endPosition:this.points[e].position,color:s,withoutAnimation:i})),this.graph[t].push(e),this.graph[e].push(t),this.edgesMap[a]=this.edges.length-1)}delEdge(t,e){const s=P(t,e);if(!(!T(this.context.point.pointCount,this.deletedPoints,t,e)||!(s in this.edgesMap))){for(let i=0;i<this.context.edge.connectionStatus.length;i++){const a=this.context.edge.connectionStatus[i][0],r=this.context.edge.connectionStatus[i][1];if(a===t&&r===e||r===t&&a===e){this.context.edge.connectionStatus.splice(i,1);break}}for(let i=0;i<this.graph[t].length;i++)if(this.graph[t][i]===e){this.graph[t].splice(i,1);break}for(let i=0;i<this.graph[e].length;i++)if(this.graph[e][i]===t){this.graph[e].splice(i,1);break}this.edges[this.edgesMap[s]].destroy(),delete this.edgesMap[s]}}setPointColor(t,e,s,i,a){T(this.context.point.pointCount,this.deletedPoints,t)&&this.points[t].setColor(e,s,i,a)}setContent(t,e,s){T(this.context.point.pointCount,this.deletedPoints,t)&&this.points[t].setContent(e,s)}setEdgeColor(t,e,s,i){const a=P(t,e);!T(this.context.point.pointCount,this.deletedPoints,t,e)||!(a in this.edgesMap)||this.edges[this.edgesMap[a]].setColor(s,i)}setText(t,e,s,i,a){const r=Qt(8);return this.textsMap[r]=new ts(this.ctx,{content:t,position:e,fontColor:s,fontStyle:i,withoutAnimation:a}),r}setTextColor(t,e,s,i,a){if(!(t in this.textsMap))return;const r=this.textsMap[t].context.content;s>i||r[s]===void 0||r[i]===void 0||this.textsMap[t].setColor(e,s,i,a)}delText(t){t in this.textsMap&&(this.textsMap[t].destroy(),delete this.textsMap[t])}async blink(t,e,s,i,a){if(T(this.context.point.pointCount,this.deletedPoints,t))for(let r=0;r<e;r++)await Promise.all([this.points[t].blink(s,i,a)])}lock(t){this.userLock=t}async wait(t){return new Promise(e=>{setTimeout(()=>{e()},t*1e3)})}getPositions(t){if(t===void 0){const e=[];for(let s=0;s<this.points.length;s++)e.push(this.deletedPoints.includes(s)?void 0:this.points[s].position);return e}return T(this.context.point.pointCount,this.deletedPoints,t)?this.points[t].position:void 0}getConnectedPoints(t){if(!T(this.context.point.pointCount,this.deletedPoints,t))return[];const e=[];for(const s of this.graph[t])e.push(s);return e}getGraph(){return this.graph}}const ss={context:{type:Object,default:()=>et,validator(n){const o=JSON.parse(JSON.stringify(et)),t=X(o,n),e=t.point.pointCount;t.point.initialPosition.length!==e&&E("graph -> initialPosition","点的初始位置未全部正确初始化");for(const s of t.edge.connectionStatus)(s[0]>=e||s[1]>=e)&&E("graph -> connectionStatus","连接情况应在0 ~ pointCount - 1之间");return!!I(t.point.radius)}}},et={style:{canvasWidth:1e3,canvasHeight:800},point:{pointCount:3,radius:22,content:[0,1,2],initialPosition:[{x:300,y:100},{x:500,y:100},{x:400,y:245}],arcColor:"#000000",fillColor:"#ffffff",fontColor:"#000000",withoutRepulsion:!1},edge:{connectionStatus:[[0,1],[1,2],[0,2]],distance:150,color:"#000000"}},ns={class:"t-graph"},mt=L({name:"t-graph",__name:"graph",props:ss,setup(n,{expose:o}){const t=n,e=JSON.parse(JSON.stringify(et)),s=X(e,t.context),i=k(null);let a=null;return B(()=>{i.value.width=s.style.canvasWidth,i.value.height=s.style.canvasHeight,a=new es(i.value,s)}),o({moveTo:async(p,v)=>{await a.moveTo(p,v)},swap:async(p,v)=>{await a.swap(p,v)},shallowSwap:async(p,v)=>{await a.shallowSwap(p,v)},renderEdge:async(p,v,C="#ffd1a0")=>{await a.renderEdge(p,v,C)},addPoint:(p=void 0,v,C="#000000",w="#ffffff",_="#000000",wt=!1)=>{a.addPoint(p,v,C,w,_,wt)},delPoint:p=>{a.delPoint(p)},addEdge:(p,v,C="#000000",w=!1)=>{a.addEdge(p,v,C,w)},delEdge:(p,v)=>{a.delEdge(p,v)},setPointColor:(p,v="#000000",C="#000000",w="#ffffff",_=!1)=>{a.setPointColor(p,v,C,w,_)},setContent:(p,v,C=!1)=>{a.setContent(p,v,C)},setEdgeColor:(p,v,C="#39fadd",w=!1)=>{a.setEdgeColor(p,v,C,w)},setText:(p,v,C="#000000",w="30px Arial",_=!1)=>a.setText(p,v,C,w,_),setTextColor:(p,v,C,w,_=!1)=>a.setTextColor(p,v,C,w,_),delText:p=>{a.delText(p)},blink:async(p,v,C="#ffc67a",w="#ffc67a",_="#000000")=>{await a.blink(p,v,C,w,_)},lock:p=>{a.lock(p)},wait:async p=>{await a.wait(p)},getPositions:p=>a.getPositions(p),getConnectedPoints:p=>a.getConnectedPoints(p),getGraph:()=>a.getGraph()}),(p,v)=>(m(),y("div",ns,[x("canvas",{ref_key:"graphRef",ref:i},null,512)]))}}),is={install:n=>{n.component(mt.name,mt)}},os=[ge,Pe,$e,Ie,Le,je,Ke,is],as={install:n=>{for(const o of os)o.install(n)}};const ls={...Zt,enhanceApp:async({app:n})=>{n.use(as)}};function bt(n){if(n.extends){const o=bt(n.extends);return{...o,...n,async enhanceApp(t){o.enhanceApp&&await o.enhanceApp(t),n.enhanceApp&&await n.enhanceApp(t)}}}return n}const W=bt(ls),rs=L({name:"VitePressApp",setup(){const{site:n}=jt();return B(()=>{Gt(()=>{document.documentElement.lang=n.value.lang,document.documentElement.dir=n.value.dir})}),Vt(),qt(),Ht(),W.setup&&W.setup(),()=>Bt(W.Layout)}});async function hs(){const n=ds(),o=cs();o.provide(Lt,n);const t=Nt(n.route);return o.provide(Ft,t),o.component("Content",At),o.component("ClientOnly",Ot),Object.defineProperties(o.config.globalProperties,{$frontmatter:{get(){return t.frontmatter.value}},$params:{get(){return t.page.value.params}}}),W.enhanceApp&&await W.enhanceApp({app:o,router:n,siteData:Rt}),{app:o,router:n,data:t}}function cs(){return zt(rs)}function ds(){let n=Q,o;return Wt(t=>{let e=Jt(t);return e?(n&&(o=e),(n||o===e)&&(e=e.replace(/\.js$/,".lean.js")),Q&&(n=!1),Yt(()=>import(e),[])):null},W.NotFound)}Q&&hs().then(({app:n,router:o,data:t})=>{o.go().then(()=>{It(o.route,t.site),n.mount("#app")})});export{hs as createApp};
